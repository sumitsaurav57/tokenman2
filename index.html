<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <section class="page1">
      <div class="page1-content">
        <div class="title">tokenize yourself</div>
        <form>
          <p>full name</p>
          <input type="text" id="name" required />
          <p>age</p>
          <input type="number" id="age" required />
          <p>about</p>
          <input type="text" id="about" required />
          <button id="addb">gimme my token</button>
        </form>
      </div>
    </section>

    <section class="page2" id="section">
      <div class="back"></div>
      <div class="" id="section2"></div>
    </section>

    <script></script>
    <script>console.log("welcome to tokenman mishra")
       /*import './style.css'*/ 
import sha256 from 'node_modules\crypto-js\sha256.js';


const section = document.querySelectorAll('section');
var btn = document.getElementById('addb');
var back = document.querySelector('.back');

const form = document.querySelector('form');
/* form.addEventListener('submit',add()) */



section.forEach(section => {
    section.style.display = 'none';
})
section[0].style.display = 'block';
btn.onclick = function () {
  add()

}
back.onclick = function () {
    section.forEach(section => {
        section.style.display = 'none';
    })
    section[0].style.display = 'block';
}
var tasks = [];
console.log(tasks)

function add() {
    var el = document.getElementById('section2');
    function Profile(name, age, about,token) {
        this.name = name;
        this.age = age;
        this.about = about;
        this.token = token;
    };

    var elc = document.getElementById('name').value;
    var ela = document.getElementById('age').value;
    var elb = document.getElementById('about').value;
    if (ela==null||ela==''&& elb==null||elb==''&& elc == null||elc=='') {
        alert("fill this form")
    }
    else {
        var token = sha256(JSON.stringify(elc) + JSON.stringify(ela) + JSON.stringify(elb)).toString();
        
        var task = new Profile(elc, ela, elb, token);
        if (task) {
            tasks.push(task);
            elc = '';
            ela = '';
            elb = '';
            token = '';
            document.getElementById('name').value = '';
            document.getElementById('age').value = '';
            document.getElementById('about').value = '';

            var data = '';
            if (tasks.length > 0) {
                for (let i = 0; i < tasks.length; i++) {
                    data += `<div class='data'> hi ${tasks[i].name} this is your unique token<div class='token'> ${tasks[i].token}</div> </div>`;
                }
            }
       
        }
        section.forEach(section => {
            section.style.display = 'none';
        })
        section[1].style.display = 'block';
      
    
    }
    el.innerHTML = data;
};
    
    </script>
  </body>
</html>
